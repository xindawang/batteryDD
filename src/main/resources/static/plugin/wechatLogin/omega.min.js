var Omega=function(e,t){var n=e.Omega;if(!n||!n.loaded){var r,o,a,i,c,u,f,l,s,d,m,g={onJsError:function(){}},v="0.2.3",h=!1,p=[],b=[],y="OmegaSDK://",k="didi",E=/omega/,T=/^\s*|\s*$/g,S=[],w="OMGH5PageView",O="OMGH5CustomTiming",C="OMGH5Click",_="OMGH5Error",N="omgh5sid",j="omgscfg",M="omgh5smpl",I="omgtrc",L=1e3,P=!0,x={},J=/[?&]omg_no_track=1(?:\&|#|$)/.test(location.search),D="//omgup.xiaojukeji.com/api/webstat/x.gif",H="//omgup.xiaojukeji.com/api/web/stat",A="//omgup.xiaojukeji.com/api/webinfo",B={},F={},$=navigator.userAgent||navigator.vendor||e.opera,G=navigator.cookieEnabled?1:0,V=!1,K=!1,R=function(e){return Object.prototype.toString.call(e).match(/\[object\s+(\w+)\]/)[1]},U=function(e,t){return R(e)===t},Y=function(){return e.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!0)}:e.detachEvent?function(e,t,n){e.detachEvent("on"+t,n)}:void 0}(),W=function(){return e.addEventListener?function(e,t,n){e.addEventListener(t,n,!0)}:e.attachEvent?function(e,t,n){e.attachEvent("on"+t,n)}:void 0}(),z=function(){var n={},r=function(){var e=0;try{e=t.body.offsetHeight,e||(e=t.documentElement.offsetHeight)}catch(n){}return e},o=r();W(e,"message",function(r){try{r.data.replace(/^omgh5\:rnhover\:(.+)$/,function(e,r){var o=r.split("->"),a=o[0],i=t.body;"body"!==a&&(i=t.getElementById(a)),i||(i=t.getElementsByName(a)[0]);for(var c=1,u=o.length;u>c;c++)i=i.children[o[c]];if(i){var f=i.style.backgroundColor;n[r]=f,i.style.backgroundColor="#f93",setTimeout(function(){i.style.backgroundColor=f},3e3)}}),r.data.replace(/^omgh5\:rnout\:(.+)$/,function(e,r){var o=r.split("->"),a=o[0],i=t.body;"body"!==a&&(i=t.getElementById(a)),i||(i=t.getElementsByName(a)[0]);for(var c=1,u=o.length;u>c;c++)i=i.children[o[c]];i&&(i.style.backgroundColor=n[r])}),r.data.replace(/^omgh5\:go(\w+)$/,function(t,n){e.history[n]()})}catch(r){}}),setInterval(function(){var e=r();e!=o&&(o=e,top.window.postMessage("omgh5:pageheight:"+o,"*"))},200)},X=function(){try{return top.window===window}catch(e){return!1}}();X||(W(e,"message",function(n){U(n.data,"String")&&(n.data.replace(/^omgh5\:showdebug$/,function(){V=!0;var e,n,r;W(t,"mouseover",function(t){var o=t.target,a=Oe(o);e=o.style.backgroundColor,o.style.backgroundColor="#f93",n=o.title,o.title=a,r=setTimeout(function(){top.window.postMessage("omgh5:rncopy:"+a,"*")},1e3)}),W(t,"mouseout",function(t){var o=t.target;o.style.backgroundColor=e,o.title=n,clearTimeout(r)}),K||z()}),n.data.replace(/^omgh5\:heatmap$/,function(){W(e,"message",function(e){try{e.data.replace(/^omgh5\:rnheat\:(.+)$/,function(e,n){var r=n.split("->"),o=r[0],a=t.body;"body"!==o&&(a=t.getElementById(o)),a||(a=t.getElementsByName(o)[0]);for(var i=1,c=r.length;c>i;i++)a=a.children[r[i]];a&&top.window.postMessage("omgh5:rninfo:"+JSON.stringify(Ie(a)),"*")})}catch(e){}}),K||z()}))}),top.window.postMessage("omgh5:iniframe","*"));var q=function(e){for(var n=t.cookie?t.cookie.split("; "):[],r=0,o=n.length;o>r;r++){var a=n[r].split("=");if(a[0]===e)return a[1]}},Q=function(e,n,r){t.cookie=e+"="+n+(r?"; expires="+r:"")+"; path=/"},Z=function(e){var t=new RegExp("[?&]"+e+"=([^&$]+)");return t.test(location.search)||t.test(location.hash.slice(1))?RegExp.$1:void 0},ee=function(e){var t=q(j);try{if(t)return t=JSON.parse(t),e?t[e]:t}catch(n){}},te=function(e,t){var n=ee();if(n||(n={}),U(e,"String")){var r={};r[e]=t,e=r}for(var o in e)n[o]=e[o];try{Q(j,JSON.stringify(n)),Xe(n,qe)}catch(a){}},ne=function(){return(Math.random()+"").substr(2,12)+"-"+(new Date).getTime()},re=function(e){a=e+""},oe=function(e){u=e+""},ae=function(e){i=e+"",Pe("username-received")},ie=function(e){c=e+"",Pe("telephone-received")},ce=function(e){f=e},ue=function(e){l=e+""},fe=ne(),le=function(){var e=q(N);return e||Q(N,e=fe),e}(),se=function(){return Z(le)}(),de=function(){return"undefined"!=typeof OmegaSDK},me=function(){return $.indexOf(k)>=0&&E.test($)}(),ge=function(e){return S.push(e),function(){for(var t=0,n=S.length;n>t;t++)if(S[t]===e)return S.splice(t,1)}},ve=function(e,n){var r=n["class"];if(r){var o=e,a=[];if(r.constructor===Array)for(var i=0,c=r.length;c>i;i++)a.push(" "+r[i]+" ");else a.push(" "+r+" ");for(var c=a.length;o&&o!==t.body&&o!==t.documentElement;){for(var u=" "+o.className+" ",i=0;c>i;i++)if(u.indexOf(a[i])>-1)return o;o=o.parentNode}}var f=n.attr;if(f)for(var o=e;o&&o!==t.body&&o!==t.documentElement;)if(o.hasAttribute(f)){var l=o.getAttribute(f);if(!l)return o;try{var s=JSON.parse(l);return s.target=o,s}catch(d){return o}}else o=o.parentNode},he=function(t){o&&(fe=ne());var n={nt:1};if(t=t||{},e.performance&&e.performance.timing){var r=be();for(var a in r)t[a]=r[a]}xe(Le([w,t]),n)},pe=function(){try{for(var e=performance.getEntries(),t=0,n=e.length;n>t;t++){var r=e[t];if("script"==r.initiatorType&&r.name.indexOf("/omega.")>-1)return r}}catch(o){}},be=function(){var t={},n=e.performance.memory;if(n&&(t.m_used=n.usedJSHeapSize,t.m_total=n.totalJSHeapSize,t.m_limit=n.jsHeapSizeLimit),o)return t;var r=e.performance.timing;if(t.t_fb=r.responseStart-r.navigationStart,t.t_rq=r.responseEnd-r.requestStart,t.t_tcp=r.connectEnd-r.connectStart,t.t_dns=r.domainLookupEnd-r.domainLookupStart,t.t_pgrd=r.loadEventEnd-r.navigationStart,t.t_dmrd=r.domContentLoadedEventEnd-r.navigationStart,t.t_psdm=r.domComplete-r.domInteractive,t.t_di=r.domInteractive-r.domLoading,t.t_dcl=r.domContentLoadedEventEnd-r.domLoading,t.t_dc=r.domComplete-r.domLoading,t.t_ld=r.loadEventEnd-r.loadEventStart,e.chrome&&e.chrome.loadTimes)try{var a=e.chrome.loadTimes();a&&(t.t_fp=1e3*a.firstPaintTime-e.performance.timing.navigationStart)}catch(i){}var c=pe();!o&&c&&(t.t_omgld=Math.round(c.duration));for(var u in F){var f=t.t_custom;f||(f=t.t_custom={}),f[u]=F[u]}try{f&&(t.t_custom=JSON.stringify(f))}catch(i){}return t},ye=1e4,ke=function(){b.length&&P&&setTimeout(function(){Se.apply(null,b.shift()),ke()},50)},Ee=function(e,n,r,o){try{var a=t.createElement("script");t.documentElement.appendChild(a);var i=(n+"_"+(""+Math.random()).substr(2,6)).slice(6);a.onload=function(){r||o(),t.documentElement.removeChild(a),ke()},a.onerror=function(){var t=+(a.getAttribute("count")||0);a.setAttribute("count",++t),2>t?setTimeout(function(){a.src=D+e+"&cbk=Omega._cbk"+i+"&_"+t+"=1"},100):(P=!1,setTimeout(function(){P=!0},ye))},g["_cbk"+i]=function(){return function(e){Te(e),delete g["_cbk"+i]}}(i),a.src=H+e+"&cbk=Omega._cbk"+i}catch(c){}},Te=function(e){for(var t in e)x[t]=e[t]},Se=function(e,t,n,r,a){if(U(x.eventid,"Object")){var i=x.eventid,c=i[e];if(null!=c)if(1===c)delete i[e];else{if(0===c)return;if(Math.random()>=c)return}}var u,f,l=r.ts;e!==w||o||(o=!0);var s="?e="+e;for(var d in r)s+="&"+d+"="+encodeURIComponent(r[d]);if(s+="&attrs="+encodeURIComponent(JSON.stringify(n)),a&&setTimeout(function(){u||(f=!0,a(e,t,n,r,f))},L),!V)return P?void Ee(s,l,f,function(){u=!0,a&&a(e,t,n,r)}):void b.push([e,t,n,r,a]);try{top.window.postMessage("omgh5:log:"+s,"*")}catch(m){}},we=function(e){for(var t=e.parentNode.children,n=0,r=t.length;r>n;n++)if(t[n]===e)return n},Oe=function(e){var t,n=[],r=e;try{for(;"BODY"!==r.nodeName;){var o=r.getAttribute("id")||r.getAttribute("name");if(o){n.unshift(o),t=1;break}n.unshift(we(r)),r=r.parentNode}t||n.unshift("body")}catch(r){n.length=0}return n.length?n.join("->"):""},Ce=function(t,n,r,o){var a,i={};n=n||e.event;var c=n.target||n.srcElement;if("INPUT"!==c.tagName||"password"!==c.type){if(r&&U(r,"Object")){var u=ve(c,r);if(u){if(U(u,"Object")){if(t=u.e||t,a=u.l,u.attrs&&U(u.attrs,"Object"))for(var f in u.attrs)i[f]=u.attrs[f];c=u.target}}else if(!o)return}else if(!o)return;Pe(t,a||c.tagName,i,c,n,!0)}},_e=function(e){for(var t=arguments.length,n={eventId:e},r=1;t>r;r++){var o=arguments[r],a=R(o);switch(a){case"String":n.eventLabel=o;break;case"Object":n.attrs=o;break;case"Function":n.callback=o;break;case"Boolean":n.auto=o;break;case"MouseEvent":case"TouchEvent":n.event=o;break;case"Undefined":case"Null":break;default:n.target=o}}return n},Ne=function(e,n,r){var o={v:location.href,r:t.referrer||"",c:G,ts:(new Date).getTime(),fp:1,p:fe,jv:v,pt:u||t.title||""};return G&&(o.s=le),n&&(o.l=n),a&&(o.pn=a),i&&(o.un=i),c&&(o.tel=c),f&&(o.ct=f),l&&(o.ch=l),s&&(o.av=s),se&&(o.rs=se),o},je=function(e){return e.replace(T,"")},Me=function(e){try{var t=e.nodeName;if("INPUT"===t&&"button"===e.type)return e.value;if("SELECT"===t||"INPUT"===t||"TEXTAREA"===t){var n=[],r=e.previousSibling;r&&3==r.nodeType&&n.push(je(r.nodeValue)),e.placeholder&&n.push("placeholder="+e.placeholder),e.id&&n.push("id="+e.id),e.name&&n.push("name="+e.name),e.className&&n.push("class="+e.className);var o=e.nextSibling;return o&&3==o.nodeType&&n.push(je(o.nodeValue)),n.join(" ")}for(var a=e.childNodes,n=[],i=0,c=a.length;c>i;i++){var u=a[i];3==u.nodeType&&n.push(je(u.nodeValue))}return n.join(" ")}catch(f){}},Ie=function(e,n,r){n=n||{},e.id&&(n.id=e.id),e.className&&(n["class"]=e.className),e.href&&(n.href=e.href),e.name&&(n.name=e.name);var o=Me(e);if(o&&(o.length>50&&(o=o.substr(0,50)+"..."),n.text=o),e.getBoundingClientRect){var a=e.getBoundingClientRect();n.ex=Math.round(a.left),n.ey=Math.round(a.top),a.width&&(n.ew=Math.round(a.width)),a.height&&(n.eh=Math.round(a.height))}if(!n.eh&&e.offsetHeight&&(n.eh=e.offsetHeight),!n.ew&&e.offsetWidth&&(n.ew=e.offsetWidth),r){var i=t.documentElement.scrollLeft||t.body&&t.body.scrollLeft||0,c=t.documentElement.scrollTop||t.body&&t.body.scrollTop||0,u=r.pageX||r.clientX+i,f=r.pageY||r.clientY+c;n.x=u,n.y=f}var a=Oe(e);return a&&(n.rn=a),n.h=t.documentElement.offsetHeight||t.body&&t.body.offsetHeight||0,n.w=t.documentElement.offsetWidth||t.body&&t.body.offsetWidth||0,n},Le=function(e){e=_e.apply(null,e);var t=e.eventId,n=e.eventLabel||"",r=e.attrs||{},o=e.target,a=e.event,i=e.callback;for(var c in qe)r.hasOwnProperty(c)||(r[c]=qe[c]);if(r=He(t,r,o),o&&(t===C||e.auto)&&(r=Ie(o,r,a),d))for(var c in d)r[c]=d[c]();return{eventId:t,callback:i,eventLabel:n,attrs:r,sys:Ne(t,n,o)}},Pe=function(){try{var e=Le(arguments);xe(e)}catch(t){}},xe=function(t,n){if(!J){if(!h)return void p.push(function(){xe(t,n)});var r=t.eventId,o=t.eventLabel,a=t.callback,i=t.attrs,c=t.sys,u=JSON.stringify(n||{}),f=JSON.stringify(i),l=JSON.stringify(c);if("OMGH5JsError"===r&&g.onJsError(o,c,i),de())if(OmegaSDK.trackEventEx)try{OmegaSDK.trackEventEx(r,o,f,l,u),a&&a(r,o,i,c)}catch(s){Se(r,o,i,c,a)}else if(OmegaSDK.trackEvent)try{OmegaSDK.trackEvent(r,o,f,l),a&&a(r,o,i,c)}catch(s){try{OmegaSDK.trackEvent(r,o,f),a&&a(r,o,i,c)}catch(s){Se(r,o,i,c,a)}}else Se(r,o,i,c,a);else if(me){var d=y+"trackEvent?e="+r;d+="&attrs="+f,d+="&sys="+l,n&&(d+="&ex="+u),e.prompt(d),a&&a(r,o,i,c)}else Se(r,o,i,c,a)}},Je=function(e,t,n,r,o){var a={line:n,url:t};r&&(a.col=r),null!=m&&(a.state=m),o&&o.stack&&(e=o.stack),Pe("OMGH5JsError",e,a)},De=function(){if(!B.jserror){B.jserror=1;var t=e.onerror;e.onerror=function(n,r,o,a,i){Je(n,r,o,a,i),"function"==typeof t&&t.apply(e,arguments)}}},He=function(e,t,n){t=t||{};for(var r=0,o=S.length;o>r;r++){var a=S[r].call(n,e,t,n);if(a&&U(a,"Object"))for(var i in a)t[i]=a[i]}return Xe(t,{})},Ae=function(){if(de())try{return JSON.parse(OmegaSDK.getInfo())}catch(e){}},Be=function(e,n){try{var r=t.createElement("script");t.documentElement.appendChild(r);var o=Ve()+"_"+(""+Math.random()).substr(2,9);r.onload=function(e){return function(){t.documentElement.removeChild(r)}}(o),e&&U(e,"Function")&&(g["__callback"+o]=function(){return function(t){e(JSON.parse(t)),delete g["__callback"+o]}}(o),r.src=A+"?callback=Omega.__callback"+o),r.onerror=function(e){return function(){n&&U(n,"Function")&&n(),t.documentElement.removeChild(r),delete g["__callback"+e]}}(o)}catch(a){}},Fe=function(e,t){var n;if(e&&U(e,"Function")){if(r)return void e(r);Be(function(t){e(r=t.clientid)},t)}else Promise&&Promise.all&&(n=new Promise(function(e,t){r?e(r):Be(function(t){e(r=t.clientid)},t)}));return n},$e=function(e,n,r,o){var a=B[e];return a&&Y(t,e,a),B[e]=function(e){Ce(n,e,r,o)},W(t,e,B[e]),function(){Ge(e)}},Ge=function(e){var n=B[e];n&&(Y(t,e,n),delete B[e])},Ve=function(){if(e.performance&&e.performance.now)return function(){return parseInt(e.performance.now())};var t=Date.now();return e.performance&&e.performance.timing&&(t=e.performance.timing.navigationStart),function(){return Date.now()-t}}(),Ke=function(t){e.performance&&performance.timing&&U(t,"String")&&(F[""+t]=Ve())},Re=function(e){return $e("click",C,e,1)},Ue=function(e){return $e("click",C,e)},Ye=function(e){var t=q(M);if(!t){var n=new Date;t=n.getTime(),n.setFullYear(n.getFullYear()+30),Q(M,t,n.toGMTString())}return t%(1/e)===0},We=function(e,t,n,r,o){if(e&&"string"==typeof e&&"number"==typeof t){o=o||.1,r=r||{},r.ms=t;var a={nt:1};n&&(r.version=n),Ye(o)&&xe(Le([O,e,r]),a)}},ze=function(){var e=Array.prototype.slice.call(arguments),t=e.pop();Ye(t)&&Pe.apply(null,e)},Xe=function(e,t){for(var n in e)if(e.hasOwnProperty(n))switch(n){case"productName":a=e[n]+"";break;case"userName":i=e[n]+"",ae(i);break;case"telephone":c=e[n]+"",ie(c);break;case"pageTitle":u=e[n]+"";break;case"cityId":f=e[n];break;case"channel":l=e[n]+"";break;case"appVersion":s=e[n]+"";break;case"timeout":L=e[n];break;default:t[n]=e[n]}return t},qe=function(){var e={autoClick:!0,autoTouch:!1,autoError:!0,noTrack:!1,autoSendPageView:!0},t=ee();return t&&Xe(t,e),n&&n.constructor===Object&&(Xe(n,e),n=null),e}();qe.autoClick&&(U(qe.autoClick,"Object")?Re(qe.autoClick):Re()),qe.autoTouch&&(U(qe.autoTouch,"Object")?Re(qe.autoTouch):Re()),qe.filterClick&&U(qe.filterClick,"Object")&&Ue(qe.filterClick),qe.filterTouch&&U(qe.filterTouch,"Object")&&Ue(qe.filterTouch),qe.autoError&&De(),qe.noTrack&&(J=1);var Qe=qe.autoSendPageView;delete qe.autoClick,delete qe.autoTouch,delete qe.autoError,delete qe.debugMode,delete qe.autoSendPageView,delete qe.filterClick,delete qe.filterTouch,delete qe.noTrack;var Ze=function(){h=!0;var e=new Date;e.setFullYear(e.getFullYear()+30);var t=q(I);if(!t){var n=Ae();n&&n.oid?Q(I,n.oid,e.toGMTString()):Fe(function(t){t&&Q(I,t,e.toGMTString())})}for(;p.length;)setTimeout(p.pop(),10)};return Qe&&p.push(he),"complete"===t.readyState?Ze():W(e,"load",Ze),g.trackEvent=Pe,g.getAppSdkInfo=Ae,g.trackError=function(e,t,n,r){return arguments.length<3?void console.log('至少要包含"name"、"code"和"msg"三个参数'):(r=r||{},r.name=e+"",r.code=t+"",void Pe(_,n+"",r))},g.addTrackHandler=ge,g.enableClickAutoTracker=g.enableTouchAutoTracker=Re,g.enableClickFilterTracker=g.enableTouchFilterTracker=Ue,g.disableAutoClick=function(){Ge("click")},g.setProduct=re,g.setUserName=ae,g.setTelephone=ie,g.setPageTitle=oe,g.setCityId=ce,g.setChannel=ue,g.sendPageView=he,g.markTimePoint=Ke,g.setSessionConfig=te,g.trackTiming=We,g.trackEventSample=ze,g.sid=function(){return le},g.getProduct=function(){return a},g.setState=function(e){m=e},g.getClientId=Fe,g.enableDebugMode=function(){},g.trackPerformance=function(){},g.bindEvent=W,g.getQuery=Z,g.loaded=!0,g}}(window,document);